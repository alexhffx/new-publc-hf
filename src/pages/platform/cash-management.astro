---
import PageLayout from '../../layouts/PageLayout.astro';
import Hero from '../../components/Hero.astro';
import PlatformScene from '../../components/hero/PlatformScene.astro';
import TrustBar from '../../components/TrustBar.astro';
import StepProcess from '../../components/StepProcess.astro';
import CTASection from '../../components/CTASection.astro';

const features = [
  {
    title: 'Single gateway',
    description: 'All your entities and bank accounts in one place, consolidated across currencies in real time. No more toggling between bank portals.',
    icon: 'M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21',
  },
  {
    title: 'Cashflow planning',
    description: 'Easy to get started with a minimal learning curve. Integrate your data and save time with robust multi-currency cash flow forecasting.',
    icon: 'M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 013 19.875v-6.75zM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V8.625zM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 01-1.125-1.125V4.125z',
  },
  {
    title: 'Cash management',
    description: 'Manage your spare working capital or access funding from our partners with a click of a button. Better returns, less risk.',
    icon: 'M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z',
  },
];

const deepDives = [
  {
    label: 'Real-Time Visibility',
    title: 'See every account, entity, and currency — at a glance',
    description: 'Get accurate, up-to-the-minute insights into your cash balances, forecasts, and currency needs on your computer or mobile. No more end-of-day guesswork.',
    image: '/assets/images/platform/balances.jpg',
    imageAlt: 'Real-time cash balances across currencies',
    bullets: [
      'Consolidated balances across all bank accounts and entities',
      'Real-time currency conversion at live rates',
      'Mobile-friendly for on-the-go visibility',
    ],
  },
  {
    label: 'Multi-Currency Forecasting',
    title: 'Forecast cash flows across 30+ currencies',
    description: 'Integrate your data and save time with robust cash flow planning and embedded currency management. Know what\'s coming in and going out — in every currency.',
    image: '/assets/images/platform/cashflow-plan.png',
    imageAlt: 'Multi-currency cash flow forecasting',
    bullets: [
      'Pull data from ERP, banks, and spreadsheets automatically',
      'Scenario planning with embedded FX sensitivity',
      'Alert-driven notifications for cash shortfalls',
    ],
    reverse: true,
  },
  {
    label: 'Better Cash Returns',
    title: 'Enhance returns with diversified deposits',
    description: 'Diversify your deposits across 30 bank accounts with one hub account and get a better yield with less banking risk. No more leaving idle cash in a single account.',
    image: '/assets/images/platform/bank-balances.jpg',
    imageAlt: 'Diversified bank account balances',
    bullets: [
      'Access multiple deposit accounts from one dashboard',
      'Competitive yield comparison across providers',
      'Reduce concentration risk across banking partners',
    ],
  },
  {
    label: 'Working Capital',
    title: 'Find the right funding for your growth',
    description: 'Instantly access working capital solutions from our partners that make sense for your business — without lengthy paperwork and delays.',
    image: '/assets/images/platform/funding-invoices.png',
    imageAlt: 'Working capital funding options',
    bullets: [
      'Invoice financing and trade finance options',
      'Pre-qualified offers from integrated lending partners',
      'Apply in minutes, not weeks',
    ],
    reverse: true,
  },
];

const steps = [
  { number: 1, title: 'Sign up to HedgeFlows', description: 'Free to get started. Just enter your email.' },
  { number: 2, title: 'Connect your systems & banks', description: 'Link your ERP, accounting software, and bank accounts in minutes.' },
  { number: 3, title: 'Manage your finances', description: 'See, plan, and act on your cash positions across every currency.' },
];
---

<PageLayout
  title="Cash Management | HedgeFlows"
  description="Manage your cash flow effortlessly with real-time insights across multiple currencies and entities. Consolidated visibility, forecasting, and working capital."
>
  <!-- Hero -->
  <Hero
    title="Manage your cash flow, effortlessly"
    subtitle="Say goodbye to manual cash flow tracking and guesswork. Streamline cash management with real-time insights across multiple currencies and entities."
    primaryCta={{ label: 'Book a Demo', href: '/treasury-health-check' }}
    secondaryCta={{ label: 'Start Free Trial', href: 'https://app.hedgeflows.com/signup' }}
  >
    <PlatformScene
      slot="scene"
      screenshot="/assets/images/platform/cash-mgmt-hero.png"
      screenshotAlt="HedgeFlows cash management dashboard"
      accentLabel="Multi-currency"
    />
  </Hero>

  <!-- Hero Image -->
  <section class="bg-white -mt-8 md:-mt-14 relative z-10 pb-12">
    <div class="container-content">
      <div class="max-w-4xl mx-auto rounded-2xl overflow-hidden">
        <img
          src="/assets/images/platform/cash-mgmt-hero.png"
          alt="HedgeFlows cash management dashboard"
          class="w-full h-auto"
          loading="eager"
        />
      </div>
    </div>
  </section>

  <!-- Trust Bar -->
  <TrustBar slider={true} />

  <!-- 3 Feature Cards -->
  <section class="section-padding bg-[#F8FAFB]">
    <div class="container-content">
      <div class="text-center mb-14">
        <h2 class="section-heading">Integrated cash management for CFOs and finance teams</h2>
      </div>
      <div class="grid md:grid-cols-3 gap-8">
        {features.map((f) => (
          <div class="bg-white rounded-2xl border border-gray-100 p-8 shadow-sm">
            <div class="w-12 h-12 rounded-xl bg-brand-green-pale flex items-center justify-center mb-5">
              <svg class="w-6 h-6 text-brand-green" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d={f.icon} />
              </svg>
            </div>
            <h3 class="text-[1.125rem] font-bold text-text-heading mb-3">{f.title}</h3>
            <p class="text-[0.9375rem] text-text-body leading-relaxed">{f.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Feature Deep-Dives (alternating 2-col) -->
  <section class="section-padding bg-white">
    <div class="container-content space-y-24">
      {deepDives.map((section) => (
        <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
          <div class:list={[{ 'order-2 lg:order-1': section.reverse }]}>
            {!section.reverse ? (
              <Fragment>
                <p class="text-[0.75rem] font-semibold text-brand-green uppercase tracking-wider mb-3">{section.label}</p>
                <h3 class="text-[1.5rem] md:text-[1.75rem] font-bold text-text-heading mb-4 leading-tight">{section.title}</h3>
                <p class="text-[0.9375rem] text-text-body leading-relaxed mb-6">{section.description}</p>
                <ul class="space-y-3">
                  {section.bullets.map((item) => (
                    <li class="flex items-start gap-3">
                      <svg class="w-5 h-5 text-brand-green flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                      </svg>
                      <span class="text-[0.9375rem] text-text-body">{item}</span>
                    </li>
                  ))}
                </ul>
              </Fragment>
            ) : (
              <div class="rounded-2xl overflow-hidden">
                <img src={section.image} alt={section.imageAlt} class="w-full h-auto" loading="lazy" />
              </div>
            )}
          </div>
          <div class:list={[{ 'order-1 lg:order-2': section.reverse }]}>
            {section.reverse ? (
              <Fragment>
                <p class="text-[0.75rem] font-semibold text-brand-green uppercase tracking-wider mb-3">{section.label}</p>
                <h3 class="text-[1.5rem] md:text-[1.75rem] font-bold text-text-heading mb-4 leading-tight">{section.title}</h3>
                <p class="text-[0.9375rem] text-text-body leading-relaxed mb-6">{section.description}</p>
                <ul class="space-y-3">
                  {section.bullets.map((item) => (
                    <li class="flex items-start gap-3">
                      <svg class="w-5 h-5 text-brand-green flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
                      </svg>
                      <span class="text-[0.9375rem] text-text-body">{item}</span>
                    </li>
                  ))}
                </ul>
              </Fragment>
            ) : (
              <div class="rounded-2xl overflow-hidden">
                <img src={section.image} alt={section.imageAlt} class="w-full h-auto" loading="lazy" />
              </div>
            )}
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- How It Works -->
  <section class="section-padding bg-[#F8FAFB]">
    <div class="container-content">
      <div class="text-center mb-14">
        <h2 class="section-heading">Three steps to better cash management</h2>
      </div>
      <StepProcess steps={steps} />
    </div>
  </section>

  <!-- CTA -->
  <CTASection
    headline="Ready for real-time visibility across all your accounts?"
    primaryCta={{ label: 'Book a Demo', href: '/treasury-health-check' }}
    secondaryCta={{ label: 'Start Free Trial', href: 'https://app.hedgeflows.com/signup' }}
  />
</PageLayout>
