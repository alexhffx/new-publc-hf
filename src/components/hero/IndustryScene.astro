---
/**
 * IndustryScene â€” Dashboard screenshot in glassmorphism frame + industry badge.
 */
interface Props {
  industry: string;
  iconPath?: string;
  screenshot?: string;
  screenshotAlt?: string;
}

const {
  industry,
  iconPath,
  screenshot = '/assets/images/dashboard.png',
  screenshotAlt = 'HedgeFlows treasury platform',
} = Astro.props;

const industryIcons: Record<string, string> = {
  'E-Commerce': 'M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z',
  'Travel': 'M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5',
  'Staffing': 'M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z',
  'Logistics': 'M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0H6.375m11.25-2.25V6.375c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h.75m15-2.25v-3.375c0-.621-.504-1.125-1.125-1.125h-3.375c-.621 0-1.125.504-1.125 1.125v3.375m5.625 0h-5.625',
  'Professional Services': 'M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0',
};

const iconD = iconPath || industryIcons[industry] || industryIcons['E-Commerce'];
---

<div class="industry-scene" aria-hidden="true">
  <!-- Screenshot card -->
  <div class="industry-scene__main glass-card scene-fade" style="--delay: 0.2s">
    <img src={screenshot} alt={screenshotAlt} class="industry-scene__img" loading="eager" />
  </div>

  <!-- Industry badge -->
  <div class="industry-scene__badge glass-card scene-fade scene-float" style="--delay: 0.5s; --float-dur: 6.5s">
    <div class="industry-scene__badge-icon-wrap">
      <svg class="industry-scene__badge-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
        <path stroke-linecap="round" stroke-linejoin="round" d={iconD} />
      </svg>
    </div>
    <span class="industry-scene__badge-text">{industry}</span>
  </div>
</div>

<style>
  .glass-card {
    background: rgba(255, 255, 255, 0.72);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.9);
    border-radius: 16px;
    box-shadow:
      0 8px 40px rgba(0, 0, 0, 0.08),
      0 1px 0 rgba(255, 255, 255, 0.8) inset;
  }

  .scene-fade {
    opacity: 0;
    animation: sceneFadeUp 0.8s ease forwards;
    animation-delay: var(--delay, 0.2s);
  }

  .scene-float {
    animation: sceneFadeUp 0.8s ease forwards, sceneFloat var(--float-dur, 6s) ease-in-out infinite;
    animation-delay: var(--delay, 0.2s), calc(var(--delay, 0.2s) + 0.8s);
  }

  .industry-scene {
    position: relative;
    min-height: 280px;
  }

  .industry-scene__main {
    overflow: hidden;
    padding: 0.5rem;
    transform: perspective(800px) rotateY(-2deg);
    transition: transform 0.3s ease;
  }

  .industry-scene__main:hover {
    transform: perspective(800px) rotateY(0deg) translateY(-4px);
  }

  .industry-scene__img {
    width: 100%;
    height: auto;
    border-radius: 12px;
    display: block;
  }

  .industry-scene__badge {
    display: inline-flex;
    align-items: center;
    gap: 0.625rem;
    padding: 0.625rem 1rem;
    position: absolute;
    bottom: -0.75rem;
    right: 1rem;
  }

  @media (max-width: 1023px) {
    .industry-scene__badge {
      position: relative;
      bottom: auto;
      right: auto;
      margin-top: 0.75rem;
    }
  }

  .industry-scene__badge-icon-wrap {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: #E8F8F0;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .industry-scene__badge-icon {
    width: 18px;
    height: 18px;
    color: #038458;
  }

  .industry-scene__badge-text {
    font-size: 0.8125rem;
    font-weight: 600;
    color: #343A40;
  }

  @keyframes sceneFadeUp {
    from { opacity: 0; transform: translateY(28px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes sceneFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }
</style>
