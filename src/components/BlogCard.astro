---
interface Props {
  title: string;
  excerpt: string;
  date: string;
  href: string;
  image?: string;
}

const {
  title,
  excerpt,
  date,
  href,
  image,
} = Astro.props;

// Format date nicely
const formattedDate = new Date(date).toLocaleDateString('en-GB', {
  year: 'numeric',
  month: 'short',
  day: 'numeric',
});
---

<a href={href} class="group block bg-white rounded-xl border border-gray-100 overflow-hidden
                       shadow-[0_1px_3px_rgba(0,0,0,0.04),0_6px_24px_rgba(0,0,0,0.04)]
                       hover:shadow-[0_4px_12px_rgba(0,0,0,0.06),0_12px_40px_rgba(0,0,0,0.06)]
                       transition-all duration-300">
  <!-- Image area -->
  <div class="relative overflow-hidden">
    {image ? (
      <img
        src={image}
        alt=""
        class="w-full aspect-[16/10] object-cover group-hover:scale-105 transition-transform duration-500"
        loading="lazy"
      />
    ) : (
      <div class="w-full aspect-[16/10] bg-gradient-to-br from-gray-100 to-gray-200 group-hover:from-brand-green-pale group-hover:to-gray-100 transition-colors duration-500" aria-hidden="true">
        <div class="absolute inset-0 flex items-center justify-center">
          <svg class="w-10 h-10 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z" />
          </svg>
        </div>
      </div>
    )}
  </div>

  <div class="p-6">
    <time class="text-[0.8125rem] font-medium text-text-muted uppercase tracking-wide" datetime={date}>
      {formattedDate}
    </time>

    <h3 class="text-[1.125rem] font-semibold text-text-heading mt-2.5 mb-2
               group-hover:text-brand-green transition-colors duration-200 leading-snug">
      {title}
    </h3>

    <p class="text-[0.9375rem] text-text-body leading-relaxed line-clamp-2 mb-4">{excerpt}</p>

    <span class="inline-flex items-center gap-1.5 text-brand-green font-semibold text-[0.875rem]
                 group-hover:gap-2.5 transition-all duration-200">
      Read more
      <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
      </svg>
    </span>
  </div>
</a>
